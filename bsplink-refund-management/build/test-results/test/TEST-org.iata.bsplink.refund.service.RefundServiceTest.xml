<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="org.iata.bsplink.refund.service.RefundServiceTest" tests="15" skipped="0" failures="0" errors="0" timestamp="2018-08-09T11:36:39" hostname="a2ljenkins1" time="0.093">
  <properties/>
  <testcase name="testDeleteDraft" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.07"/>
  <testcase name="testFindByIsoCountryCodeAndAirlineCodeAndTicketDocumentNumberNotCorrect" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testFindAll" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testSave" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.003"/>
  <testcase name="testUpadetRefundOk" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.011"/>
  <testcase name="testFindById" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.001"/>
  <testcase name="testDeleteAuthorized" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testDeleteRejected" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.001"/>
  <testcase name="testFindByIsoCountryCodeAndAirlineCodeAndTicketDocumentNumberNotFound" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testFindByIsoCountryCodeAndOtherAirlineCodeAndTicketDocumentNumber" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testDeletePending" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testDoesNotDeletesRefundWhenActionNotAllowedForRefundStatusIsThrown" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testFindByIsoCountryCodeAndAirlineCodeAndTicketDocumentNumber" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testFindByOtherIsoCountryCodeAndOtherAirlineCodeAndTicketDocumentNumber" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.0"/>
  <testcase name="testUpadetRefundWithFileName" classname="org.iata.bsplink.refund.service.RefundServiceTest" time="0.004"/>
  <system-out><![CDATA[]]></system-out>
  <system-err><![CDATA[Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService saveIndirectRefund
INFO: Saving refund : Refund(id=null, ticketDocumentNumber=1234567890, status=PENDING, isoCountryCode=AA, agentCode=78200011, airlineCode=220, dateOfIssue=2018-06-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=PEPE, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=null, dateOfIssueRelatedDocument=2000-01-02, dateOfAirlineAction=null, exchange=false, agentContact=null, airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1234567890, relatedTicketCoupon1=true, relatedTicketCoupon2=false, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=null, agentRegistrationNumber=null, airlineRegistrationNumber=null)
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService saveRefundHistory
INFO: Saving refund history for: Refund(id=1, ticketDocumentNumber=0000000001, status=PENDING, isoCountryCode=AA, agentCode=78200022, airlineCode=220, dateOfIssue=2018-07-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=JUAN, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=tourCode, dateOfIssueRelatedDocument=2000-03-04, dateOfAirlineAction=null, exchange=false, agentContact=Contact(id=null, contactName=contact, phoneFaxNumber=654321654, email=email@email.com), airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1111111111, relatedTicketCoupon1=true, relatedTicketCoupon2=true, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=null, agentRegistrationNumber=null, airlineRegistrationNumber=null) Action: REFUND_ISSUE
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService saveRefundHistory
INFO: Refund history saved: null
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService updateIndirectRefund
INFO: Updating refund : Refund(id=1, ticketDocumentNumber=0000000001, status=PENDING, isoCountryCode=AA, agentCode=78200022, airlineCode=220, dateOfIssue=2018-07-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=JUAN, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=tourCode, dateOfIssueRelatedDocument=2000-03-04, dateOfAirlineAction=null, exchange=false, agentContact=Contact(id=null, contactName=contact, phoneFaxNumber=654321654, email=email@email.com), airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1111111111, relatedTicketCoupon1=true, relatedTicketCoupon2=true, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=null, agentRegistrationNumber=null, airlineRegistrationNumber=null)
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService getRefundHistoryToUpdate
INFO: Prepare refund history for: Refund(id=1, ticketDocumentNumber=0000000001, status=PENDING, isoCountryCode=AA, agentCode=78200022, airlineCode=220, dateOfIssue=2018-07-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=JUAN, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=tourCode, dateOfIssueRelatedDocument=2000-03-04, dateOfAirlineAction=null, exchange=false, agentContact=Contact(id=null, contactName=contact, phoneFaxNumber=654321654, email=email@email.com), airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1111111111, relatedTicketCoupon1=true, relatedTicketCoupon2=true, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=null, agentRegistrationNumber=null, airlineRegistrationNumber=null) Action: MODIFY
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService saveRefundHistory
INFO: Saving refund history for: Refund(id=1, ticketDocumentNumber=0000000001, status=PENDING, isoCountryCode=AA, agentCode=78200022, airlineCode=220, dateOfIssue=2018-07-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=JUAN, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=tourCode, dateOfIssueRelatedDocument=2000-03-04, dateOfAirlineAction=null, exchange=false, agentContact=Contact(id=null, contactName=contact, phoneFaxNumber=654321654, email=email@email.com), airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1111111111, relatedTicketCoupon1=true, relatedTicketCoupon2=true, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=[RefundHistory(id=null, action=MODIFY, insertDateTime=2018-08-09T11:36:39.251Z, refundId=1, fileName=null)], agentRegistrationNumber=null, airlineRegistrationNumber=null) Action: MODIFY
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService saveRefundHistory
INFO: Refund history saved: null
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService updateIndirectRefund
INFO: Getting last updated Refund to retrieve
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService updateIndirectRefund
INFO: Updating refund : Refund(id=1, ticketDocumentNumber=0000000001, status=PENDING, isoCountryCode=AA, agentCode=78200022, airlineCode=220, dateOfIssue=2018-07-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=JUAN, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=tourCode, dateOfIssueRelatedDocument=2000-03-04, dateOfAirlineAction=null, exchange=false, agentContact=Contact(id=null, contactName=contact, phoneFaxNumber=654321654, email=email@email.com), airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1111111111, relatedTicketCoupon1=true, relatedTicketCoupon2=true, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=null, agentRegistrationNumber=null, airlineRegistrationNumber=null)
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService getRefundHistoryToUpdate
INFO: Prepare refund history for: Refund(id=1, ticketDocumentNumber=0000000001, status=PENDING, isoCountryCode=AA, agentCode=78200022, airlineCode=220, dateOfIssue=2018-07-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=JUAN, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=tourCode, dateOfIssueRelatedDocument=2000-03-04, dateOfAirlineAction=null, exchange=false, agentContact=Contact(id=null, contactName=contact, phoneFaxNumber=654321654, email=email@email.com), airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1111111111, relatedTicketCoupon1=true, relatedTicketCoupon2=true, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=null, agentRegistrationNumber=null, airlineRegistrationNumber=null) Action: MODIFY
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService saveRefundHistory
INFO: Saving refund history for: Refund(id=1, ticketDocumentNumber=0000000001, status=PENDING, isoCountryCode=AA, agentCode=78200022, airlineCode=220, dateOfIssue=2018-07-19, billingPeriod=null, currency=RefundCurrency(code=ABC, decimals=0), passenger=JUAN, amounts=RefundAmounts(grossFare=0, lessGrossFareUsed=0, commissionAmount=0, commissionRate=0, spam=0, cancellationPenalty=0, miscellaneousFee=0, taxOnCancellationPenalty=0, taxOnMiscellaneousFee=0, commissionOnCpAndMfAmount=0, commissionOnCpAndMfRate=0, tax=0, refundToPassenger=0), partialRefund=false, netReporting=false, waiverCode=null, tourCode=tourCode, dateOfIssueRelatedDocument=2000-03-04, dateOfAirlineAction=null, exchange=false, agentContact=Contact(id=null, contactName=contact, phoneFaxNumber=654321654, email=email@email.com), airlineContact=null, settlementAuthorisationCode=null, customerFileReference=null, agentVatNumber=null, airlineVatNumber=null, originalIssue=null, airlineCodeRelatedDocument=220, relatedDocument=RelatedDocument(relatedTicketDocumentNumber=1111111111, relatedTicketCoupon1=true, relatedTicketCoupon2=true, relatedTicketCoupon3=false, relatedTicketCoupon4=false), statisticalCode=I, formOfPaymentAmounts=[], conjunctions=[], taxMiscellaneousFees=[], issueReason=Reason for Issuance, rejectionReason=null, airlineRemark=null, attachedFiles=null, comments=null, history=[RefundHistory(id=null, action=MODIFY, insertDateTime=2018-08-09T11:36:39.267Z, refundId=1, fileName=null)], agentRegistrationNumber=null, airlineRegistrationNumber=null) Action: MASSLOAD_UPDATE
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService saveRefundHistory
INFO: Refund history saved: null
Aug 09, 2018 1:36:39 PM org.iata.bsplink.refund.service.RefundService updateIndirectRefund
INFO: Getting last updated Refund to retrieve
]]></system-err>
</testsuite>
